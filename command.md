
***
# 2变量和简单数据类型

## 2.3字符串

### 2.3.1使用方法修改字符串的大小写
```python
txt = "test"
print()
print(txt.title()) #首字母大写
print(txt.upper()) #全部大写
print(txt.lower()) #全部小写
```
### 2.3.2在字符串中使用变量
```python
first_name = "ada"
last_name = "lovelace"
full_name = f"{first_name} {last_name}"
print(full_name)
```
**python verison under 3.6**
```
full_name = "{} {}".format(first_name, last_name)
```

### 2.3.2使用制表符或换行符来添加空白
制表符`\t`
换行符`\n`

### 2.3.4删除空白
删除字符串末尾多余空白
`.rstrip()`
删除字符串开头多余空白
`.lstrip()`
删除字符串开头和末尾多余空白
`.strip()`

## 2.4数

### 2.4.1整数
`+ - * /`
乘方`**`

### 2.4.2浮点数

### 2.4.3整数和浮点数
将任意两个数相除时，结果总是浮点数，即便这两个数都是整数且能整除
如果一个操作数是整数，另一个操作数是浮点数，结果也总是浮点数

### 2.4.4数中的下划线
2.4.5同时给多个变量赋值
```python
x,y,z = 0,0,0
```

## 2.5注释

## Python之禅
```python
import this
```

***

# 3列表简介

## 3.1列表是什么

```python
bicycles = ['trek', 'cannondale', 'redline', 'specialized']
print(bicycles)
```
输出结果
`['trek', 'cannondale', 'redline', 'specialized']`

### 3.1.1访问列表元素
`print(bicycles[0])`

### 3.1.2索引从0而不是1开始
将索引指定为-1 ，可让Python返回最后一个列表元素(-2,-3)

### 3.1.3使用列表中的各个值

## 3.2修改、添加和删除元素

### 3.2.1修改列表元素
`list[count] = `

### 3.2.2在列表中添加元素
1. 在列表末尾添加元素
   `append`
2. 在列表中插入元素
   `insert(destination,'item')`

### 3.2.3从列表中删除元素
1. 使用`del`语句删除元素
   `del list[destination]`
2. 使用方法`pop()`删除元素
   `list.pop()`
3. 弹出列表中任何位置处的元素
   `list.pop(destination)`
4. 根据值删除元素
   `list.remove('item')`

## 3.3组织列表

### 3.3.1使用方法`sort()`对列表永久排序
1. `sort()`按字母顺序排列
   无法恢复到原来的排列顺序
2. `sort(reverse=True)`按与字母顺序相反的顺序排列列表元素

### 3.3.2使用函数`sorted()`对列表临时排序
按特定顺序显示列表元素，同时不影响它们在列表中的原始排列顺序

### 3.3.3倒着打印列表
`list.reverse()`反转列表元素顺序

### 3.3.4确定列表的长度
`len(list)`

## 3.4使用列表时避免索引错误

***

# 4操作列表

## 4.1遍历整个列表

### 4.1.1深入研究循环

### 4.1.2在`for`循环中执行更多操作

### 4.1.3在`for`循环结束后执行一些操作

## 4.2避免缩进错误

## 4.3创建数值列表

### 4.3.1使用函数`range()`
```python
for value in range(1, 5):
print(value)
```
output `1 2 3 4`

### 4.3.2使用`range()`创建数字列表
`numbers = list(range(1, 6))`
使用函数`range()`时，还可指定步长
eg:生成偶数
`even_numbers = list(range(2, 11, 2))`

### 4.3.3对数字列表执行简单的统计计算
```python
min(list)
max(list)
sum(list)
```
### 4.3.4列表解析
```python
squares = [value**2 for value in range(1, 11)]
print(squares)
```

## 4.4使用列表的一部分

### 4.4.1切片
`list[start:end]`
start和end可省略
可在表示切片的方括号内指定第三个值。这个值告诉Python在指定范围内每隔多少元素提取一个

### 4.4.2遍历切片

## 4.5元组
不可变的列表被称为元组

### 4.5.1定义元组
`tuple = ()`

**元组是由逗号标识的，圆括号只是让元组看起来更整洁、更清晰。如果你要定义只包含一个元素的元组，必须在这个元素后面加上逗号**
`my_t = (3,)`

### 4.5.2遍历元组中的所有值

### 4.5.3修改元组变量
可重新定义整个元组

## 4.6设置代码格式

### 4.6.2缩进
每级缩进四个空格

### 4.6.3行长
建议每行不超过80字符
建议注释的行长不应超过72字符

***

# 5`if`语句

## 5.2条件测试
相等运算符`==`

### 5.2.2检查是否相等时忽略大小写

### 5.2.3检查是否不相等

### 5.2.5检查多个条件
1. 使用`and`检查多个条件
2. 使用`or`检查多个条件

### 5.2.6检查特定值是否包含在列表中
`'item' in list`

### 5.2.7检查特定值是否不包含在列表中

### 5.2.8布尔表达式

## 5.3`if`语句

### 5.3.2`if-else`语句

### 5.3.3`if-elif-else`结构

### 5.3.4使用多个`elif`代码块

### 5.3.5省略`else`代码块

### 5.3.6测试多个条件

## 5.4使用`if`语句处理列表

### 5.4.2确定列表不是空的

***

# 6字典

## 6.1一个简单的字典
`dictionary = {'item': 'value', 'item2': 'value2'}`

## 6.2使用字典
键值对是两个相关联的值

### 6.2.1访问字典中的值
`A = dictionary['item']`

### 6.2.2添加键值对
`dictionary['item'] = value`

**在Python 3.7中，字典中元素的排列顺序与定义时相同。如果将字典打印出来或遍历其元素，将发现元素的排列顺序与添加顺序相同**

### 6.2.3先创建一个空字典

### 6.2.4修改字典中的值
`dictionary['item'] = new_value`

### 6.2.5删除键值对
可使用`del`语句将相应的键值对彻底删除。使用`del`语句时，必须指定字典名和要删除的键

### 6.2.6由类似对象组成的字典

### 6.2.7　使用`get()`来访问值
方法`get()`的第一个参数用于指定键，是必不可少的；第二个参数为指定的键不存在时要返回的值，是可选的

调用`get()`时，如果没有指定第二个参数且指定的键不存在，Python将返回值`None`

## 6.3遍历字典

### 6.3.1遍历所有键值对
`for A, B in user_0.items():`
方法`items()`，它返回一个键值对列表

### 6.3.2遍历字典中的所有键
方法`keys()`，返回所有键

### 6.3.3按特定顺序遍历字典中的所有键
从Python 3.7起，遍历字典时将按**插入的顺序**返回其中的元素
要以特定顺序返回元素，一种办法是在`for`循环中对返回的键进行排序
为此，可使用函数`sorted()`来获得按特定顺序排列的键列表的副本
`sorted(item)`

### 6.3.4遍历字典中的所有值
方法`values()`来返回一个值列表
这种做法提取字典中所有的值，而没有考虑是否重复

为剔除重复项，可使用集合（`set`）集合中的每个元素都必须是独一无二的
`set(item)`
可使用一对花括号直接创建集合，并在其中用逗号分隔元素
`set = {'A', 'B', 'C', 'D'}`

当花括号内没有键值对时，定义的很可能是集合。不同于列表和字典，集合不会以特定的顺序存储元素

## 6.4嵌套
`list = [dictionary_1, dictionary_2, dictionary_3]`

### 6.4.2在字典中存储列表
`dictionary = {key:['A','B','C']}`

### 6.4.3在字典中存储字典

***

# 7用户输入和`while`循环

## 7.1函数`input()`的工作原理
`input("message want to show")`

### 7.1.1编写清晰的程序
```python
prompt = "If you tell us who you are, we can personalize the messages you see."
prompt += "\nWhat is your first name? "
```
`+=`添加字符串

### 7.1.2使用`int()`来获取数值输入
函数`int()`将数的字符串表示转换为数值表示

### 7.1.3求模运算符
求模运算符`%`将两个数相除并返回余数

## 7.2`while`循环简介

### 7.2.1使用`while`循环

### 7.2.2让用户选择何时退出

### 7.2.3使用标志

### 7.2.4使用`break`退出循环
以`while True`打头的循环将不断运行，直到遇到`break`语句
在任何Python循环中都可使用`break`语句。可使用`break`语句来退出遍历列表或字典的`for`循环。

### 7.2.5在循环中使用`continue`
执行`continue`语句，让Python忽略余下的代码，并返回循环的开头

### 7.2.6避免无限循环

## 7.3使用`while`循环处理列表和字典

### 7.3.1在列表之间移动元素

### 7.3.2删除为特定值的所有列表元素

### 7.3.3使用用户输入来填充字典

***

# 8函数

## 8.1定义函数
使用关键字`def`来定义一个函数
文档字符串`"""AAAAAA"""`

### 8.1.1向函数传递信息

### 8.1.2实参和形参

## 8.2传递实参
**位置实参**要求实参的顺序与形参的顺序相同
**关键字实参**每个实参都由变量名和值组成
还可使用列表和字典

### 8.2.1位置实参
按顺序将函数调用中的实参关联到函数定义中相应的形参

1. 多次调用函数
   多次提供实参和形参
2. 位置实参的顺序很重要

### 8.2.2关键字实参
**关键字实参**是传递给函数的名称值对
无须考虑函数调用中的实参顺序，清楚地指出了函数调用中各个值的用途
向Python明确地指出了各个实参对应的形参
使用关键字实参时，务必准确指定函数定义中的形参名

### 8.2.3默认值
可给每个形参指定默认值
使用默认值时，必须先在形参列表中列出没有默认值的形参，再列出有默认值的实参

### 8.2.4等效的函数调用
可混合使用位置实参、关键字实参和默认值

### 8.2.5避免实参错误

## 8.3返回值
`return text`

### 8.3.2让实参变成可选的
Python将非空字符串解读为`True`

### 8.3.3返回字典
将其默认值设置为特殊值`None`
在条件测试中，`None`相当于`False`

### 8.3.4结合使用函数和`while`循环

## 8.4传递列表

### 8.4.1在函数中修改列表

### 8.4.2禁止函数修改列表
将列表的副本传递给函数
`function_name(list_name_[:])`

## 8.5传递任意数量的实参
`*example` 
创建一个名为example的空元组
Python将实参封装到一个元组中，即便函数只收到一个值

### 8.5.1结合使用位置实参和任意数量实参
如果要让函数接受不同类型的实参，必须在函数定义中将接纳任意数量实参的形参放在最后
通用形参名*args ，它也收集任意数量的位置实参

### 8.5.2使用任意数量的关键字实参
形参`**user_info`中的两个星号让Python创建一个名为`user_info`的空字典
形参名**kwargs ，它用于收集任意数量的关键字实参

## 8.6将函数存储在模块中
`import`语句允许在当前运行的程序文件中使用模块中的代码

### 8.6.1导入整个模块
`import ***The name of the module***`
要调用被导入模块中的函数，可指定被导入模块的名称和函数名并用句点`.`分隔

### 8.6.2导入特定的函数
`from module_name import function_0, function_1, function_2`

### 8.6.3使用`as`给函数指定别名
如果要导入函数的名称可能与程序中现有的名称冲突，或者函数的名称太长，可指定简短而独一无二的别名
`from module_name import function_name as new_function_name`

### 8.6.4使用as 给模块指定别名
`from module_name as new_module_name`

### 8.6.5导入模块中的所有函数
`from module_name import *`
导入了每个函数，可通过名称来调用每个函数，而无须使用句点表示法

## 8.7函数编写指南
给形参指定默认值时，等号两边不要有空格
所有`import`语句都应放在文件开头

***

# 9类

## 9.1创建和使用类

### 9.1.1创建Dog类
在Python中，首字母大写的名称指的是类
1. 方法`__init__()`
   每当你根据类创建新实例时，Python都会自动运行它
   每个与实例相关联的方法调用都自动传递实参`self`,因此不需要传递它
   `self.A`以self 为前缀的变量可供类中的所有方法使用，可以通过类的任何实例来访问
   可通过实例访问的变量称为属性

### 9.1.2根据类创建实例
1. 访问属性
   要访问实例的属性，可使用句点表示法
2. 调用方法
   使用句点表示法
3. 创建多个实例

## 9.2使用类和实例

### 9.2.1Car类
```python
def function(self):
   return ------
print()
```

### 9.2.2给属性指定默认值

### 9.2.3修改属性的值
1. 直接修改属性的值
2. 通过方法修改属性的值
3. 通过方法对属性的值进行递增

## 9.3继承
一个类**继承**另一个类时，将自动获得另一个类的所有属性和方法。原有的类称为**父类**，而新类称为**子类**

### 9.3.1子类的方法`__init__()`
`super()`是一个特殊函数，让你能够调用父类的方法。
**父类**也称为**超类**
`super().__init__()`

### 9.3.2给子类定义属性和方法

### 9.3.3重写父类的方法
可在子类中定义一个与要重写的父类方法同名的方法
Python将不会考虑这个父类方法，而只关注你在子类中定义的相应方法

### 9.3.4将实例用作属性
将类的一部分提取出来，作为一个独立的类。可以将大型类拆分成多个协同工作的小类。

### 9.3.5模拟实物

## 9.4导入类

### 9.4.1导入单个类

### 9.4.2在一个模块中存储多个类

### 9.4.3从一个模块中导入多个类
从一个模块中导入多个类时，用逗号分隔了各个类

### 9.4.4导入整个模块

### 9.4.5导入模块中的所有类
`from module_name import *`

### 9.4.6在一个模块中导入另一个模块

### 9.4.7使用别名

### 9.4.8自定义工作流程

## 9.5Python标准库
模块`random`
   函数`randint()`  它将两个整数作为参数，并随机返回一个位于这两个整数之间（含）的整数
   函数`choice()`  它将一个列表或元组作为参数，并随机返回其中的一个元素

## 9.6类编码风格
类名应采用驼峰命名法 ，即将类名中的每个单词的首字母都大写，而不使用下划线。实例名和模块名都采用小写格式，并在单词之间加上下划线。

## 9.7小结

***

# 10文件和异常

## 10.1从文件中读取数据
函数`open()` 接受一个参数：要打开的文件的名称
`with open()`可让Python去确定：你只管打开文件，并在需要时使用它，Python自会在合适的时候自动将其关闭

### 10.1.2文件路径
显示文件路径时，Windows系统使用反斜杠（`\`）而不是斜杠（`/`），但在代码中依然可以使用斜杠
1. 相对文件路径
   当前文件夹下的子目录
2. 绝对路径通常比相对路径长，因此将其赋给一个变量，再将该变量传递给`open()`
   如果在文件路径中直接使用反斜杠，将引发错误，因为反斜杠用于对字符串中的字符进行转义`\\`

### 10.1.3逐行读取
要以每次一行的方式检查文件，可对文件对象使用`for`循环
```python
filename = 'example.txt'
with open(filename) as file_object:
   for line in file_object:
      print(line)
```

### 10.1.4创建一个包含文件各行内容的列表
`readlines()`从文件中读取每一行，并将其存储在一个列表中

### 10.1.5使用文件的内容
读取文本文件时，Python将其中的所有文本都解读为字符串。
如果读取的是数，并要将其作为数值使用，就必须使用函数`int()`将其转换为整数或使用函数`float()`将其转换为浮点数

### 10.1.6包含一百万位的大型文件

### 10.1.7圆周率值中包含你的生日吗

## 10.2写入文件
第二个实参（`'w'`）告诉Python，要以写入模式 打开这个文件
打开文件时，可指定**读取模式**（`'r'`）、**写入模式**（`'w'`）、**附加模式**（`'a'`）或**读写模式** （`'r+'`）
如果省略了模式实参，Python将以默认的只读模式打开文件。
如果要写入的文件不存在，函数`open()`将自动创建它
```python
filename = 'programming.txt'
with open(filename, 'w') as file_object:
   file_object.write("I love programming.")
```

Python只能将字符串写入文本文件。要将数值数据存储到文本文件中，必须先使用函数`str()`将其转换为字符串格式。

### 10.2.2写入多行

### 10.2.3附加到文件
如果要给文件添加内容，而不是覆盖原有的内容，可以以**附加模式**打开文件

## 10.3异常

### 10.3.1处理ZeroDivisionError 异常

### 10.3.2使用`try-except`代码块
```python
try:
   print(5/0)
except ZeroDivisionError:
   print("You can't divide by zero!")
```

### 10.3.3使用异常避免崩溃

### 10.3.4`else`代码块

### 10.3.5处理`FileNotFoundError`异常

### 10.3.6分析文本
方法`split()`，它能根据一个字符串创建一个单词列表。以空格为分隔符将字符串分拆成多个部分

### 10.3.7使用多个文件

### 10.3.8静默失败
`pass`语句，可用于让Python在代码块中什么都不要做

### 10.3.9决定报告哪些错误

## 10.4存储数据

### 10.4.1使用`son.dump()`和`json.load()` 
函数`json.dump()`接受两个实参：要存储的数据，以及可用于存储数据的文件对象
```python
import json
numbers = [2, 3, 5, 7, 11, 13]
filename = 'numbers.json'
with open(filename, 'w') as f:
   json.dump(numbers, f)
```

使用`json.load()`将列表读取到内存中
```python
import json
filename = 'numbers.json'
with open(filename) as f:
   numbers = json.load(f)
print(numbers)
```

### 10.4.2保存和读取用户生成的数据

### 10.4.3重构

# 11测试代码

## 11.1测试函数

### 11.1.1单元测试和测试用例
Python标准库中的模块`unittest`提供了代码测试工具
**单元测试**用于核实函数的某个方面没有问题
**测试用例**是一组单元测试，它们一道核实函数在各种情形下的行为都符合要求

```python
import unittest
from name_function import get_formatted_name
class NamesTestCase(unittest.TestCase):
   """测试name_function.py。"""
   def test_first_last_name(self):
      """能够正确地处理像Janis Joplin这样的姓名吗？"""
      formatted_name = get_formatted_name('janis','joplin')
      self.assertEqual(formatted_name, 'Janis Joplin')
if __name__ == '__main__':
   unittest.main()
```

### 11.1.2可通过的测试
这个类必须继承`unittest.TestCase`类
**断言**方法。断言方法核实得到的结果是否与期望的结果一致
`assertEqual()`

### 11.1.3未通过的测试

### 11.1.4测试未通过时怎么办

### 11.1.5添加新测试

## 11.2测试类
`unittest`模块中的测试方法

|方法|用途|
|   :----   |  :----   |
|  assertEqual(a, b)  |  核实a == b  |
|  assertNotEqual(a, b)  |  核实a != b  |
|  assertTrue(x)  |  核实x 为True  |
|  assertFalse(x)  |  核实x 为False  |
|  assertIn(item , list )  |  核实 item 在 list 中  |
|  assertNotIn(item , list )  |  核实 item 不在 list 中  |

### 11.2.2一个要测试的类

### 11.2.3测试`AnonymousSurvey`类

### 11.2.4方法`setUp()`
方法`setUp()`做了两件事情：创建一个调查对象，以及创建一个答案列表